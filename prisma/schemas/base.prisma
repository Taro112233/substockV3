// prisma/schemas/base.prisma
// ===== 1. BASE CONFIGURATION & ENUMS - V3.0 UPDATED =====

// ⚠️ NOTE: Remove generator and datasource from here - they're in main schema

// ===== CORE ENUMS =====
enum Department {
  PHARMACY    // คลังยา
  OPD         // OPD
}

enum UserStatus {
  UNAPPROVED  // ยังไม่ได้รับการอนุมัติ
  APPROVED    // อนุมัติแล้ว
  SUSPENDED   // ระงับการใช้งาน
  INACTIVE    // ไม่ใช้งาน
}

// ⭐ ลบ Role enum ออก เพราะไม่ใช้ fixed roles
// แต่ละ user สามารถทำงานได้ทุก department ตามหน้าที่ใช้งาน

enum TransactionType {
  // การเคลื่อนไหวสต็อกจริง (มีผลต่อ totalQuantity)
  RECEIVE_EXTERNAL    // รับยาจากภายนอก (ซื้อ/บริจาค)
  DISPENSE_EXTERNAL   // จ่ายยาให้ผู้ป่วย
  TRANSFER_OUT        // ส่งยาให้แผนกอื่น
  TRANSFER_IN         // รับยาจากแผนกอื่น
  ADJUST_INCREASE     // ปรับเพิ่มสต็อก (นับสต็อก/คืนยา/แก้ไขข้อมูล)
  ADJUST_DECREASE     // ปรับลดสต็อก (เสียหาย/หมดอายุ/สูญหาย)
  RESERVE             // จองยา (ลด available แต่ totalQuantity เท่าเดิม)
  UNRESERVE           // ยกเลิกการจอง (เพิ่ม available)

  // ✅ การจัดการ Minimum Stock (ไม่มีผลต่อ totalQuantity)
  MIN_STOCK_INCREASE  // เพิ่มจำนวนขั้นต่ำ
  MIN_STOCK_DECREASE  // ลดจำนวนขั้นต่ำ
  MIN_STOCK_RESET     // รีเซ็ตจำนวนขั้นต่ำ
  
  // ✅ การปรับปรุงข้อมูลอื่นๆ (ไม่มีผลต่อจำนวนสต็อก)
  DATA_UPDATE         // อัปเดตข้อมูลทั่วไป
  PRICE_UPDATE        // อัปเดตราคายา
  INFO_CORRECTION     // แก้ไขข้อมูลยา
}

enum TransferStatus {
  PENDING     // กำลังเบิก / ใบเบิกใหม่
  APPROVED    // กำลังเตรียมจัดส่ง
  PREPARED    // กำลังจัดส่ง (เตรียมของเสร็จ)
  DELIVERED   // จัดส่งสำเร็จ
  CANCELLED   // ยกเลิก
}

// ===== DRUG-SPECIFIC ENUMS =====
enum DosageForm {
  APP    // Applicator
  BAG    // Bag
  CAP    // Capsule
  CR     // Cream
  DOP    // Drops
  ENE    // Enema
  GEL    // Gel
  HAN    // Hand
  IMP    // Implant
  INJ    // Injection
  LIQ    // Liquid
  LOT    // Lotion
  LVP    // Large Volume Parenteral
  MDI    // Metered Dose Inhaler
  MIX    // Mixture
  NAS    // Nasal
  NB     // Nebule
  OIN    // Ointment
  PAT    // Patch
  POW    // Powder
  PWD    // Powder (alternate)
  SAC    // Sachet
  SOL    // Solution
  SPR    // Spray
  SUP    // Suppository
  SUS    // Suspension
  SYR    // Syrup
  TAB    // Tablet
  TUR    // Tube
}

enum DrugCategory {
  REFER           // ยา refer
  HAD      // ยา High Alert Drug
  NARCOTIC        // ยา เสพติด
  REFRIGERATED    // ยา แช่เย็น
  PSYCHIATRIC     // ยา จิตเวช
  FLUID           // สารน้ำ
  GENERAL         // ยาทั่วไป (default)
  TABLET          // ยาเม็ด
  SYRUP           // ยาน้ำ
  INJECTION       // ยาฉีด
  EXTEMP       // ยาภายนอก
  ALERT           // ยาที่ต้องเฝ้าระวังพิเศษ (อัตราใช้ผันผวนสูง)
  CANCELLED       // ยกเลิกการใช้
}